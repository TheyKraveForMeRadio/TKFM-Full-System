<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TKFM • GOD VIEW</title>

  <style>
    :root {
      --bg-deep: #020617;
      --bg-card: rgba(15,23,42,0.98);
      --accent-orange: #fb923c;
      --accent-pink: #ec4899;
      --accent-cyan: #22d3ee;
      --accent-purple: #6366f1;
      --accent-gold: #facc15;
      --accent-lime: #22c55e;
      --accent-danger: #fb7185;
      --border-subtle: rgba(148,163,184,0.55);
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
    }

    body {
      min-height: 100vh;
      color: var(--text-main);
      background:
        radial-gradient(circle at 0 0, rgba(236,72,153,0.22), transparent 55%),
        radial-gradient(circle at 100% 0, rgba(56,189,248,0.22), transparent 55%),
        radial-gradient(circle at 0 100%, rgba(250,204,21,0.16), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(37,99,235,0.16), transparent 55%),
        linear-gradient(to bottom, #020617, #020617 40%, #020617 100%);
    }

    .page {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1.1rem 0.9rem 1.6rem;
      position: relative;
    }

    .scanlines {
      position: fixed;
      inset: 0;
      background-image: linear-gradient(
        to bottom,
        rgba(15,23,42,0) 0px,
        rgba(15,23,42,0.6) 1px,
        rgba(15,23,42,0) 2px
      );
      background-size: 100% 3px;
      mix-blend-mode: soft-light;
      opacity: .4;
      pointer-events: none;
      z-index: -1;
    }

    .nav-shell {
      position: sticky;
      top: 0;
      z-index: 40;
      backdrop-filter: blur(20px);
      background: linear-gradient(
        to bottom,
        rgba(15,23,42,0.98),
        rgba(15,23,42,0.85),
        transparent
      );
      border-bottom: 1px solid rgba(250,204,21,0.65);
      margin: 0 -0.9rem 1.4rem;
      padding: .5rem .9rem .65rem;
    }

    .nav-row {
      display: flex;
      align-items: center;
      gap: .75rem;
    }

    .nav-logo {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 1px solid rgba(250,204,21,0.7);
      background:
        radial-gradient(circle at 20% 0%, #facc15, #fb923c 40%, #ec4899 65%, #020617 100%);
      box-shadow:
        0 0 26px rgba(250,204,21,0.9),
        0 0 26px rgba(236,72,153,0.7);
    }

    .nav-title-block {
      display: flex;
      flex-direction: column;
      gap: .1rem;
    }
    .nav-kicker {
      font-size: .7rem;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: var(--text-muted);
    }
    .nav-main {
      font-size: .95rem;
      font-weight: 650;
    }

    .nav-links {
      margin-left: auto;
      display: flex;
      flex-wrap: wrap;
      gap: .4rem;
      font-size: .75rem;
    }
    .nav-link {
      padding: .24rem .7rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      color: var(--text-muted);
      text-decoration: none;
      text-transform: uppercase;
      letter-spacing: .14em;
      background: radial-gradient(circle at top, rgba(15,23,42,0.9), transparent 70%);
      cursor: pointer;
      white-space: nowrap;
    }
    .nav-link.primary {
      border-color: var(--accent-gold);
      color: var(--accent-gold);
      box-shadow: 0 0 16px rgba(250,204,21,0.7);
    }

    @media (max-width: 860px) {
      .nav-row {
        flex-direction: column;
        align-items: flex-start;
      }
      .nav-links {
        margin-left: 0;
      }
    }

    .hero {
      border-radius: 30px;
      border: 1px solid rgba(250,204,21,0.78);
      background:
        radial-gradient(circle at 0 0, rgba(250,204,21,0.22), transparent 60%),
        radial-gradient(circle at 100% 0, rgba(56,189,248,0.18), transparent 60%),
        radial-gradient(circle at 50% 120%, rgba(15,23,42,0.98), #020617 70%);
      padding: 1.7rem 1.5rem 1.8rem;
      margin-bottom: 1.8rem;
      box-shadow:
        0 0 70px rgba(15,23,42,0.9),
        0 0 36px rgba(0,0,0,1);
      color: #f9fafb;
    }

    .hero-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.1fr);
      gap: 1.2rem;
    }
    @media (max-width: 900px) {
      .hero-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .hero-tagline {
      font-size: .78rem;
      letter-spacing: .2em;
      text-transform: uppercase;
      color: rgba(248,250,252,0.7);
      margin-bottom: .4rem;
    }
    .hero-title {
      font-size: 1.7rem;
      font-weight: 700;
      letter-spacing: .14em;
      text-transform: uppercase;
      margin-bottom: .5rem;
    }
    .hero-sub {
      font-size: .9rem;
      color: #e5e7eb;
      max-width: 32rem;
      margin-bottom: .7rem;
    }

    .hero-pills {
      display: flex;
      flex-wrap: wrap;
      gap: .35rem;
      margin-bottom: 1rem;
    }
    .pill {
      font-size: .7rem;
      text-transform: uppercase;
      letter-spacing: .16em;
      padding: .26rem .7rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      background: rgba(15,23,42,0.85);
      color: var(--text-muted);
    }
    .pill.orange {
      border-color: var(--accent-orange);
      color: var(--accent-orange);
    }
    .pill.pink {
      border-color: var(--accent-pink);
      color: var(--accent-pink);
    }
    .pill.cyan {
      border-color: var(--accent-cyan);
      color: var(--accent-cyan);
    }
    .pill.gold {
      border-color: var(--accent-gold);
      color: var(--accent-gold);
    }

    .hero-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: .5rem;
      margin-top: .3rem;
    }
    .hero-btn {
      font-size: .8rem;
      text-transform: uppercase;
      letter-spacing: .16em;
      padding: .4rem .9rem;
      border-radius: 999px;
      border: 1px solid rgba(248,250,252,0.45);
      background: rgba(15,23,42,0.9);
      cursor: pointer;
      color: #f9fafb;
      text-decoration: none;
    }
    .hero-btn.main {
      border-color: var(--accent-gold);
      color: #0f172a;
      background: radial-gradient(circle at 0 0, #facc15, #fb923c 55%, #f97316 100%);
      box-shadow:
        0 0 40px rgba(250,204,21,0.9),
        0 0 24px rgba(249,115,22,0.9);
    }

    .hero-meta {
      margin-top: .7rem;
      font-size: .74rem;
      color: var(--text-muted);
    }

    .hero-right-card {
      border-radius: 20px;
      border: 1px solid rgba(148,163,184,0.7);
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.15), transparent 60%), rgba(15,23,42,0.96);
      padding: .85rem .9rem;
      display: flex;
      flex-direction: column;
      gap: .6rem;
    }
    .hero-right-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: .6rem;
    }
    .hero-right-title {
      font-size: .9rem;
      font-weight: 600;
    }
    .hero-right-tag {
      font-size: .7rem;
      text-transform: uppercase;
      letter-spacing: .16em;
      padding: .22rem .65rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      color: var(--text-muted);
    }
    .hero-right-body {
      font-size: .78rem;
      color: var(--text-muted);
    }
    .hero-owner-line {
      font-size: .75rem;
      margin-top: .35rem;
      color: var(--accent-cyan);
    }
    .hero-right-buttons {
      margin-top: .6rem;
      display: flex;
      flex-wrap: wrap;
      gap: .4rem;
    }
    .hero-right-btn {
      font-size: .7rem;
      padding: .32rem .7rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      background: rgba(15,23,42,0.96);
      color: #e5e7eb;
      text-transform: uppercase;
      letter-spacing: .12em;
      cursor: pointer;
      text-decoration: none;
    }
    .hero-right-btn.danger {
      border-color: var(--accent-danger);
      color: var(--accent-danger);
    }

    .cards-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 1rem;
      margin-bottom: 1rem;
    }
    @media (max-width: 980px) {
      .cards-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .world-card {
      border-radius: 20px;
      border: 1px solid var(--border-subtle);
      background: var(--bg-card);
      padding: .95rem .9rem 1rem;
      box-shadow: 0 0 32px rgba(15,23,42,0.95);
    }
    .world-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: .5rem;
      margin-bottom: .5rem;
    }
    .world-title {
      font-size: .9rem;
      font-weight: 600;
      letter-spacing: .16em;
      text-transform: uppercase;
    }
    .world-tag {
      font-size: .7rem;
      text-transform: uppercase;
      letter-spacing: .16em;
      padding: .2rem .6rem;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.7);
      color: var(--text-muted);
    }
    .world-sub {
      font-size: .77rem;
      color: var(--text-muted);
      margin-bottom: .5rem;
    }

    .world-links {
      margin-top: .4rem;
      display: flex;
      flex-direction: column;
      gap: .25rem;
      font-size: .78rem;
    }
    .world-link {
      display: flex;
      justify-content: space-between;
      gap: .5rem;
      padding: .3rem .45rem;
      border-radius: .6rem;
      border: 1px solid rgba(31,41,55,0.9);
      background: rgba(15,23,42,0.97);
      text-decoration: none;
      color: inherit;
      cursor: pointer;
    }
    .world-link-main {
      display: flex;
      flex-direction: column;
      gap: .05rem;
    }
    .world-link-title {
      font-size: .8rem;
      font-weight: 500;
    }
    .world-link-sub {
      font-size: .72rem;
      color: var(--text-muted);
    }
    .world-link-tag {
      font-size: .7rem;
      text-transform: uppercase;
      letter-spacing: .12em;
      color: var(--accent-cyan);
      white-space: nowrap;
      align-self: center;
    }

    .world-link.highlight {
      border-color: var(--accent-gold);
      box-shadow: 0 0 16px rgba(250,204,21,0.6);
    }
    .world-link.label {
      border-color: rgba(236,72,153,0.75);
    }
    .world-link.radio {
      border-color: rgba(56,189,248,0.8);
    }
    .world-link.dj {
      border-color: rgba(34,197,94,0.85);
    }
    .world-link.ops {
      border-color: rgba(129,140,248,0.8);
    }

    .footer-note {
      margin-top: .6rem;
      font-size: .7rem;
      color: var(--text-muted);
      text-align: right;
    }
  </style>
</head>

<body>
<div class="scanlines"></div>
<div class="page">

  <div class="nav-shell">
    <div class="nav-row">
      <div class="nav-logo"></div>
      <div class="nav-title-block">
        <div class="nav-kicker">THEY KRAVE FOR ME RADIO · OWNER</div>
        <div class="nav-main">TKFM • GOD VIEW</div>
      </div>

      <div class="nav-links">
        <a class="nav-link primary" href="owner-ops-dashboard.html">Ops Dashboard</a>
        <a class="nav-link" href="label-hub.html">Label Hub</a>
        <a class="nav-link" href="radio-hub.html">Radio Hub</a>
        <a class="nav-link" href="dj-mixtape-orders.html">DJ Orders</a>
        <a class="nav-link" href="tkfm-dev-console.html">Dev Console</a>
      </div>
    </div>
  </div>

  <section class="hero">
    <div class="hero-grid">
      <div>
        <div class="hero-tagline">ALL SIGNALS · ONE DESK</div>
        <div class="hero-title">You are the program director now.</div>
        <div class="hero-sub">
          GOD VIEW sits above TKFM v2. Slide between artist uploads, label decisions,
          AI Autopilot packs, radio rotation, and DJ mixtape hosting without ever leaving
          the cockpit.
        </div>

        <div class="hero-pills">
          <div class="pill orange">Artist → Label Pipeline</div>
          <div class="pill pink">Mixtape Hosting</div>
          <div class="pill cyan">Autopilot + AI DJ</div>
          <div class="pill gold">Contracts + Sponsors</div>
        </div>

        <div class="hero-buttons">
          <a class="hero-btn main" href="owner-ops-dashboard.html">Open Owner Ops Dashboard</a>
          <a class="hero-btn" href="label-hub.html">Jump to Label Hub</a>
          <a class="hero-btn" href="radio-hub.html">Jump to Radio Hub</a>
        </div>

        <div class="hero-meta" id="owner-line">
          Checking owner session via Supabase&hellip;
        </div>
      </div>

      <div class="hero-right-card">
        <div class="hero-right-header">
          <div class="hero-right-title">Pipeline Overview</div>
          <div class="hero-right-tag">TKFM v2</div>
        </div>
        <div class="hero-right-body">
          GOD VIEW is just a switchboard. All the real numbers live in:
          <ul style="margin-top:.4rem;padding-left:1.1rem;">
            <li><strong>owner-ops-dashboard.html</strong> &mdash; metrics for every world.</li>
            <li><strong>tkfm-dev-console.html</strong> &mdash; raw localStorage inspector.</li>
            <li><strong>radio-hub.html</strong> &mdash; what the AI DJ actually sees.</li>
          </ul>
        </div>
        <div class="hero-owner-line">
          Signed in user and role will appear here once Supabase auth resolves.
        </div>
        <div class="hero-right-buttons">
          <a class="hero-right-btn" href="owner-ops-dashboard.html">View Ops Dashboard</a>
          <a class="hero-right-btn" href="tkfm-dev-console.html">Open Dev Console</a>
          <button class="hero-right-btn danger" id="logout-btn" type="button">Logout</button>
        </div>
      </div>
    </div>
  </section>

  <section class="cards-grid">
    <!-- LABEL WORLD -->
    <article class="world-card">
      <div class="world-header">
        <div class="world-title">Label World</div>
        <div class="world-tag">Sign Artists · Drop Deals</div>
      </div>
      <div class="world-sub">
        From raw submissions to signed contracts and spotlight features.
      </div>

      <div class="world-links">
        <a href="label-hub.html" class="world-link world-link label highlight">
          <div class="world-link-main">
            <div class="world-link-title">Label Hub</div>
            <div class="world-link-sub">Single control room for submissions, pipeline, and actions.</div>
          </div>
          <div class="world-link-tag">Home</div>
        </a>

        <a href="artist-submissions-console.html" class="world-link world-link label">
          <div class="world-link-main">
            <div class="world-link-title">Artist Submissions Console</div>
            <div class="world-link-sub">Review artistUploads and move the ones that are ready.</div>
          </div>
          <div class="world-link-tag">Queue</div>
        </a>

        <a href="label-mixtape-spotlight.html" class="world-link world-link label">
          <div class="world-link-main">
            <div class="world-link-title">Label Mixtape Spotlight</div>
            <div class="world-link-sub">Curate spotlight campaigns from hosted mixtapes.</div>
          </div>
          <div class="world-link-tag">Spotlight</div>
        </a>

        <a href="label-contract-lab.html" class="world-link world-link label">
          <div class="world-link-main">
            <div class="world-link-title">Contract Lab</div>
            <div class="world-link-sub">Generate offers and deal structures into tkfm_contract_latest.</div>
          </div>
          <div class="world-link-tag">Draft</div>
        </a>

        <a href="label-contract-output.html" class="world-link world-link label">
          <div class="world-link-main">
            <div class="world-link-title">Contract Output</div>
            <div class="world-link-sub">Printable contract from the latest tkfm_contract_latest object.</div>
          </div>
          <div class="world-link-tag">Print</div>
        </a>

        <a href="label-accounts.html" class="world-link world-link label">
          <div class="world-link-main">
            <div class="world-link-title">Label Accounts</div>
            <div class="world-link-sub">Label-side account management and access control.</div>
          </div>
          <div class="world-link-tag">Accounts</div>
        </a>

        <a href="label-sponsor-engine.html" class="world-link world-link label">
          <div class="world-link-main">
            <div class="world-link-title">Sponsor Engine</div>
            <div class="world-link-sub">Pair campaigns and shows with sponsor placements.</div>
          </div>
          <div class="world-link-tag">Sponsors</div>
        </a>
      </div>
    </article>

    <!-- RADIO WORLD -->
    <article class="world-card">
      <div class="world-header">
        <div class="world-title">Radio World</div>
        <div class="world-tag">Autopilot · AI DJ · Rotation</div>
      </div>
      <div class="world-sub">
        Build weighted packs, feed the AI DJ, and watch the on-air rotation.
      </div>

      <div class="world-links">
        <a href="radio-hub.html" class="world-link world-link radio highlight">
          <div class="world-link-main">
            <div class="world-link-title">Radio Hub</div>
            <div class="world-link-sub">See catalog size, current pack, and active mixtape pipelines.</div>
          </div>
          <div class="world-link-tag">Control</div>
        </a>

        <a href="autopilot-engine.html" class="world-link world-link radio">
          <div class="world-link-main">
            <div class="world-link-title">Autopilot Engine</div>
            <div class="world-link-sub">Generate tkfm_autopilot_last_pack from tkfm_catalog with weights.</div>
          </div>
          <div class="world-link-tag">Packs</div>
        </a>

        <a href="ai-dj-engine.html" class="world-link world-link radio">
          <div class="world-link-main">
            <div class="world-link-title">AI DJ Engine</div>
            <div class="world-link-sub">Consume the pack, inject drops, and simulate live runs.</div>
          </div>
          <div class="world-link-tag">AI</div>
        </a>

        <a href="ai-dj-console.html" class="world-link world-link radio">
          <div class="world-link-main">
            <div class="world-link-title">AI DJ Console</div>
            <div class="world-link-sub">Operator view for managing AI DJ behavior on-air.</div>
          </div>
          <div class="world-link-tag">Console</div>
        </a>

        <a href="mixtape-catalog.html" class="world-link world-link radio">
          <div class="world-link-main">
            <div class="world-link-title">Mixtape Catalog</div>
            <div class="world-link-sub">Hosted tapes and projects available for rotation and promo.</div>
          </div>
          <div class="world-link-tag">Catalog</div>
        </a>

        <a href="mixtape-label-console.html" class="world-link world-link radio">
          <div class="world-link-main">
            <div class="world-link-title">Mixtape Label Console</div>
            <div class="world-link-sub">Label-side view of hosted tapes and their performance.</div>
          </div>
          <div class="world-link-tag">Label View</div>
        </a>
      </div>
    </article>

    <!-- ARTIST + DJ FUNNEL -->
    <article class="world-card">
      <div class="world-header">
        <div class="world-title">Artist + DJ Funnel</div>
        <div class="world-tag">Uploads · Intakes · Hosting</div>
      </div>
      <div class="world-sub">
        Where artists submit, DJs host, and the label scouts what’s next.
      </div>

      <div class="world-links">
        <a href="artist-upload.html" class="world-link world-link dj highlight">
          <div class="world-link-main">
            <div class="world-link-title">Artist Upload Portal</div>
            <div class="world-link-sub">Entry point for artists to send records into artistUploads.</div>
          </div>
          <div class="world-link-tag">Intake</div>
        </a>

        <a href="mixtape-intake-dashboard.html" class="world-link world-link dj">
          <div class="world-link-main">
            <div class="world-link-title">Mixtape Intake Dashboard</div>
            <div class="world-link-sub">Track incoming tapes, briefs, and intake forms.</div>
          </div>
          <div class="world-link-tag">Intake</div>
        </a>

        <a href="mixtape-brief.html" class="world-link world-link dj">
          <div class="world-link-main">
            <div class="world-link-title">Mixtape Brief</div>
            <div class="world-link-sub">Questionnaire for artists before they lock in a hosted tape.</div>
          </div>
          <div class="world-link-tag">Brief</div>
        </a>

        <a href="dj-mixtape-hosting.html" class="world-link world-link dj">
          <div class="world-link-main">
            <div class="world-link-title">DJ KRAVE Mixtape Hosting</div>
            <div class="world-link-sub">Public-facing pricing tiers for Starter / Pro / Elite tapes.</div>
          </div>
          <div class="world-link-tag">Pricing</div>
        </a>

        <a href="dj-mixtape-orders.html" class="world-link world-link dj">
          <div class="world-link-main">
            <div class="world-link-title">DJ Mixtape Orders Console</div>
            <div class="world-link-sub">View Stripe-fed mixtapeOrders and move them to delivered.</div>
          </div>
          <div class="world-link-tag">Orders</div>
        </a>

        <a href="dj-portal.html" class="world-link world-link dj">
          <div class="world-link-main">
            <div class="world-link-title">DJ Portal</div>
            <div class="world-link-sub">Tools and access for TKFM DJs on the network.</div>
          </div>
          <div class="world-link-tag">DJs</div>
        </a>

        <a href="dj-schedule.html" class="world-link world-link dj">
          <div class="world-link-main">
            <div class="world-link-title">DJ Schedule</div>
            <div class="world-link-sub">Slotting, rotations, and upcoming live blocks.</div>
          </div>
          <div class="world-link-tag">Schedule</div>
        </a>
      </div>
    </article>

    <!-- SYSTEM BRAIN + BUSINESS -->
    <article class="world-card">
      <div class="world-header">
        <div class="world-title">System Brain + Business</div>
        <div class="world-tag">Core · Revenue · Access</div>
      </div>
      <div class="world-sub">
        The shared brain, revenue levers, and access control for TKFM v2.
      </div>

      <div class="world-links">
        <a href="owner-ops-dashboard.html" class="world-link world-link ops highlight">
          <div class="world-link-main">
            <div class="world-link-title">Owner Ops Dashboard</div>
            <div class="world-link-sub">Top-level metrics for uploads, catalog, packs, orders, contracts.</div>
          </div>
          <div class="world-link-tag">Ops</div>
        </a>

        <a href="tkfm-dev-console.html" class="world-link world-link ops">
          <div class="world-link-main">
            <div class="world-link-title">TKFM Dev Console</div>
            <div class="world-link-sub">Inspect artistUploads, tkfm_catalog, packs, orders & stats.</div>
          </div>
          <div class="world-link-tag">Dev</div>
        </a>

        <a href="feature-engine.html" class="world-link world-link ops">
          <div class="world-link-main">
            <div class="world-link-title">Feature Engine</div>
            <div class="world-link-sub">Configure boosts, placements, and special feature logic.</div>
          </div>
          <div class="world-link-tag">Features</div>
        </a>

        <a href="feature-revenue.html" class="world-link world-link ops">
          <div class="world-link-main">
            <div class="world-link-title">Revenue Engine</div>
            <div class="world-link-sub">Map features, spins, and spots back to monetization.</div>
          </div>
          <div class="world-link-tag">Revenue</div>
        </a>

        <a href="pricing.html" class="world-link world-link ops">
          <div class="world-link-main">
            <div class="world-link-title">Pricing Page</div>
            <div class="world-link-sub">Live view of subscription tiers and public pricing.</div>
          </div>
          <div class="world-link-tag">Pricing</div>
        </a>

        <a href="creator-pass.html" class="world-link world-link ops">
          <div class="world-link-main">
            <div class="world-link-title">Creator Pass</div>
            <div class="world-link-sub">Gatekeeper for who gets deeper platform tools.</div>
          </div>
          <div class="world-link-tag">Access</div>
        </a>

        <a href="app-hub.html" class="world-link world-link ops">
          <div class="world-link-main">
            <div class="world-link-title">App Hub</div>
            <div class="world-link-sub">App launchpad for TKFM tools and microsites.</div>
          </div>
          <div class="world-link-tag">Apps</div>
        </a>

        <a href="owner-login.html" class="world-link world-link ops">
          <div class="world-link-main">
            <div class="world-link-title">Owner Login</div>
            <div class="world-link-sub">Supabase entry point for owner + staff.</div>
          </div>
          <div class="world-link-tag">Login</div>
        </a>

        <a href="login.html" class="world-link world-link ops">
          <div class="world-link-main">
            <div class="world-link-title">User Login</div>
            <div class="world-link-sub">General user / member login entry.</div>
          </div>
          <div class="world-link-tag">Users</div>
        </a>
      </div>
    </article>
  </section>

  <div class="footer-note">
    GOD VIEW is a safe map &mdash; real data lives in tkfm-core.js + localStorage keys.
  </div>

</div>

<script type="module">
  import { supabase } from "./src/supabaseClient.js";
  import { protectPage, logoutAndReturnToLogin } from "./auth-gateway.js";

  // 1) Protect: owner only
  protectPage(["owner"]);

  // 2) Personalize the owner line
  const ownerLine = document.getElementById("owner-line");
  const logoutBtn = document.getElementById("logout-btn");

  async function initOwner() {
    const { data, error } = await supabase.auth.getUser();
    if (error || !data?.user) return;

    const email = data.user.email || "owner";
    const role = data.user.user_metadata?.tkfm_role || "owner";

    ownerLine.textContent = `Signed in as ${email} • role: ${role.toUpperCase()} • GOD VIEW unlocked.`;
  }

  initOwner();

  logoutBtn.addEventListener("click", async () => {
    await logoutAndReturnToLogin();
  });
</script>
</body>
</html>
