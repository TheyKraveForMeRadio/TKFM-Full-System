<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>TKFM ‚Äî Artist Upload</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/js/logo-check.js" defer></script>
  <style>
    body{
      background:#020617;
      background-image:
        radial-gradient(circle at 15% 0,rgba(56,189,248,0.18),transparent 55%),
        radial-gradient(circle at 85% 0,rgba(236,72,153,0.18),transparent 55%),
        radial-gradient(circle at 50% 100%,rgba(168,85,247,0.22),transparent 55%);
    }
    input,select,textarea{background:#020617;}
  </style>
</head>
<body class="text-slate-50 min-h-screen flex flex-col">

  <!-- NAV -->
  <header class="w-full border-b border-slate-800/80 bg-black/50 backdrop-blur-xl sticky top-0 z-40">
    <div class="max-w-5xl mx-auto px-4 py-3 flex items-center gap-4">
      <a href="index.html" class="flex items-center gap-3">
        <img src="/tkfm-radio-logo.png" alt="TKFM Radio" class="h-9 w-auto object-contain" />
        <div class="leading-tight">
          <div class="text-[0.65rem] uppercase tracking-[0.25em] text-slate-400">
            They Krave For Me
          </div>
          <div class="text-sm font-semibold">
            TKFM <span class="text-pink-300">Artist Upload</span>
          </div>
        </div>
      </a>
      <nav class="ml-auto flex flex-wrap gap-2 text-[0.7rem] uppercase tracking-[0.22em]">
        <a href="radio-hub.html" class="px-3 py-1 rounded-full border border-slate-700/80 bg-slate-950/70 text-slate-200">üìª Radio Hub</a>
        <a href="creator-pass.html" class="px-3 py-1 rounded-full border border-purple-500/80 bg-purple-500/10 text-purple-200">üé´ Creator Pass</a>
        <a href="artist-submissions-console.html" class="px-3 py-1 rounded-full border border-cyan-400/80 bg-cyan-400/10 text-cyan-300">üìÇ Submissions Console</a>
        <a href="label-home.html" class="px-3 py-1 rounded-full border border-yellow-400/80 bg-yellow-400/10 text-yellow-300">üèõ TKFM Records</a>
      </nav>
    </div>
  </header>

  <!-- MAIN -->
  <main class="flex-1">
    <section class="max-w-5xl mx-auto px-4 pt-8 pb-10 space-y-8">
      <!-- HERO -->
      <div class="space-y-3">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-pink-500/70 bg-pink-500/10 text-[0.7rem] uppercase tracking-[0.3em] text-pink-200">
          <span class="w-1.5 h-1.5 rounded-full bg-pink-400 animate-pulse"></span>
          Upload ‚Ä¢ Artist / DJ / Producer
        </div>
        <h1 class="text-3xl md:text-4xl font-extrabold leading-tight">
          Drop your <span class="text-pink-400 drop-shadow-[0_0_22px_rgba(236,72,153,0.9)]">heat</span> into the TKFM pipeline.
        </h1>
        <p class="text-sm md:text-base text-slate-200/90 max-w-2xl">
          This form feeds the TKFM brain:
          <span class="font-mono text-cyan-300 text-[0.75rem]">tkfm_artist_uploads</span>.
          From there it hits the Artist Submissions Console, label review and Autopilot rotation.
        </p>
      </div>

      <!-- FORM + SIDEBAR -->
      <div class="grid gap-8 lg:grid-cols-[minmax(0,1.4fr)_minmax(0,1fr)]">
        <!-- FORM -->
        <form id="upload-form" class="space-y-4 rounded-2xl border border-slate-800 bg-slate-950/80 p-4">
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-xs font-semibold uppercase tracking-[0.22em] text-slate-400 mb-1">
                Artist Name *
              </label>
              <input required name="artistName" class="w-full text-sm rounded-lg border border-slate-700/80 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-pink-500/80" placeholder="Artist / Group / DJ" />
            </div>
            <div>
              <label class="block text-xs font-semibold uppercase tracking-[0.22em] text-slate-400 mb-1">
                Role
              </label>
              <select name="role" class="w-full text-sm rounded-lg border border-slate-700/80 px-3 py-2 focus:outline-none focus:ring-1 focus:ring-pink-500/80">
                <option value="artist">Artist</option>
                <option value="dj">DJ</option>
                <option value="producer">Producer</option>
                <option value="collective">Collective</option>
              </select>
            </div>
          </div>

          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-xs font-semibold uppercase tracking-[0.22em] text-slate-400 mb-1">
                Track / Project Title *
              </label>
              <input required name="trackTitle" class="w-full text-sm rounded-lg border border-slate-700/80 px-3 py-2" placeholder="Single / EP / Mixtape title" />
            </div>
            <div>
              <label class="block text-xs font-semibold uppercase tracking-[0.22em] text-slate-400 mb-1">
                Primary City
              </label>
              <input name="city" class="w-full text-sm rounded-lg border border-slate-700/80 px-3 py-2" placeholder="City / Region" />
            </div>
          </div>

          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block text-xs font-semibold uppercase tracking-[0.22em] text-slate-400 mb-1">
                IG / Social Handle
              </label>
              <input name="social" class="w-full text-sm rounded-lg border border-slate-700/80 px-3 py-2" placeholder="@handle" />
            </div>
            <div>
              <label class="block text-xs font-semibold uppercase tracking-[0.22em] text-slate-400 mb-1">
                Email (for contact)
              </label>
              <input type="email" name="email" class="w-full text-sm rounded-lg border border-slate-700/80 px-3 py-2" placeholder="you@example.com" />
            </div>
          </div>

          <div>
            <label class="block text-xs font-semibold uppercase tracking-[0.22em] text-slate-400 mb-1">
              Streaming / Audio Link *
            </label>
            <input required name="audioUrl" class="w-full text-sm rounded-lg border border-slate-700/80 px-3 py-2" placeholder="Spotify / Apple / SoundCloud / MP3 link" />
            <p class="mt-1 text-[0.7rem] text-slate-400">
              Drop the best link for TKFM to review. If it's a mixtape, use your main project link.
            </p>
          </div>

          <div>
            <label class="block text-xs font-semibold uppercase tracking-[0.22em] text-slate-400 mb-1">
              What are you looking for?
            </label>
            <select name="intent" class="w-full text-sm rounded-lg border border-slate-700/80 px-3 py-2">
              <option value="radio">Radio Spins / Break</option>
              <option value="mixtape">Mixtape Placement / Hosting</option>
              <option value="label">Label Attention</option>
              <option value="sponsor">Brand / Sponsor Fit</option>
              <option value="all">All of the Above</option>
            </select>
          </div>

          <div>
            <label class="block text-xs font-semibold uppercase tracking-[0.22em] text-slate-400 mb-1">
              Tell TKFM why this record is special
            </label>
            <textarea name="notes" rows="4" class="w-full text-sm rounded-lg border border-slate-700/80 px-3 py-2 resize-y" placeholder="Story, energy, who it‚Äôs for, placements you already have, cosigns, etc."></textarea>
          </div>

          <div class="flex flex-wrap items-center justify-between gap-3 pt-2 border-t border-slate-800/80">
            <div class="space-y-1 text-[0.7rem] text-slate-400">
              <p>
                This writes a new object into
                <span class="font-mono text-cyan-300">tkfm_artist_uploads</span>.
              </p>
              <p>
                Label & owner view it inside
                <span class="text-cyan-300">Artist Submissions Console</span>
                + GOD VIEW.
              </p>
            </div>
            <button type="submit" class="inline-flex items-center gap-2 px-5 py-2.5 rounded-full bg-pink-600 hover:bg-pink-500 text-sm font-semibold shadow-[0_0_20px_rgba(236,72,153,0.7)] transition">
              <span>Submit to TKFM</span>
              <span class="text-xs">‚Üó</span>
            </button>
          </div>

          <p id="upload-message" class="text-[0.75rem] text-emerald-300 mt-2 hidden">
            Saved. TKFM has your record in the queue.
          </p>
        </form>

        <!-- SIDEBAR INFO -->
        <aside class="space-y-4 rounded-2xl border border-slate-800 bg-slate-950/80 p-4 text-sm">
          <h2 class="text-xs uppercase tracking-[0.3em] text-slate-400 mb-1">
            What happens after you submit
          </h2>
          <ol class="space-y-2 text-[0.8rem] text-slate-200">
            <li><span class="text-pink-300 font-semibold">1.</span> Your record is stored locally in <span class="font-mono text-cyan-300">tkfm_artist_uploads</span>.</li>
            <li><span class="text-pink-300 font-semibold">2.</span> It appears in the <a href="artist-submissions-console.html" class="text-cyan-300 underline">Artist Submissions Console</a>.</li>
            <li><span class="text-pink-300 font-semibold">3.</span> From there, label / owner can flip tags + spotlight.</li>
            <li><span class="text-pink-300 font-semibold">4.</span> Approved records feed the Autopilot Engine & AI DJ rotation.</li>
          </ol>

          <div class="border border-slate-800 rounded-xl p-3">
            <p class="text-[0.72rem] uppercase tracking-[0.26em] text-slate-400 mb-1">
              Check your motion
            </p>
            <p class="text-[0.78rem] text-slate-200 mb-2">
              Once uploads + mixtape orders start stacking, you‚Äôll see the effect on the
              <span class="text-emerald-300">Momentum Engine</span>.
            </p>
            <a href="momentum-engine.html" class="inline-flex items-center gap-2 text-[0.75rem] text-emerald-300">
              <span>üìà Open TKFM Momentum Engine</span>
              <span class="text-xs">‚Üó</span>
            </a>
          </div>
        </aside>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="border-t border-slate-800/80 bg-black/40">
    <div class="max-w-5xl mx-auto px-4 py-4 text-[0.7rem] text-slate-400 flex flex-wrap gap-3 items-center">
      <span>¬© 2025 TKFM ‚Äî Artist Upload.</span>
      <span class="opacity-70">
        Feeds tkfm_artist_uploads ‚Üí submissions console ‚Üí label ‚Üí Autopilot ‚Üí AI DJ.
      </span>
    </div>
  </footer>

  <script>
    function safeGetUploads() {
      try {
        const raw = localStorage.getItem('tkfm_artist_uploads');
        if (!raw) return [];
        const parsed = JSON.parse(raw);
        return Array.isArray(parsed) ? parsed : [];
      } catch (e) {
        console.warn('Artist Upload: failed to parse tkfm_artist_uploads', e);
        return [];
      }
    }

    function saveUploads(list) {
      try {
        localStorage.setItem('tkfm_artist_uploads', JSON.stringify(list));
      } catch (e) {
        console.error('Artist Upload: failed to save tkfm_artist_uploads', e);
      }
    }

    function generateId() {
      return 'au_' + Date.now().toString(36) + '_' + Math.random().toString(36).slice(2,8);
    }

    document.addEventListener('DOMContentLoaded', function () {
      const form = document.getElementById('upload-form');
      const msg = document.getElementById('upload-message');

      if (!form) return;

      form.addEventListener('submit', function (e) {
        e.preventDefault();

        const fd = new FormData(form);
        const entry = {
          id: generateId(),
          createdAt: new Date().toISOString(),
          artistName: (fd.get('artistName') || '').toString().trim(),
          role: (fd.get('role') || '').toString().trim(),
          trackTitle: (fd.get('trackTitle') || '').toString().trim(),
          city: (fd.get('city') || '').toString().trim(),
          social: (fd.get('social') || '').toString().trim(),
          email: (fd.get('email') || '').toString().trim(),
          audioUrl: (fd.get('audioUrl') || '').toString().trim(),
          intent: (fd.get('intent') || '').toString().trim(),
          notes: (fd.get('notes') || '').toString().trim(),
          status: 'new',              // for console / label
          labelTag: null,             // WATCH / OFFER / SPONSOR etc
          spotlight: false
        };

        if (!entry.artistName || !entry.trackTitle || !entry.audioUrl) {
          alert('Please fill in Artist Name, Track Title and Audio Link.');
          return;
        }

        const uploads = safeGetUploads();
        uploads.unshift(entry);
        saveUploads(uploads);

        form.reset();
        msg.classList.remove('hidden');
        msg.textContent = 'Saved. TKFM has your record in the queue on this device.';
        setTimeout(() => msg.classList.add('hidden'), 4500);
      });
    });
  </script>
</body>
</html>
