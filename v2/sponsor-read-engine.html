<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>TKFM Sponsor Read Engine ‚Äî Paid Lane</title>
  <style>
:root{
  --bg:#020617;
  --purple:#a855f7;
  --pink:#ec4899;
  --cyan:#22d3ee;
  --blue:#3b82f6;
  --gold:#facc15;
  --gold2:#eab308;
  --amber:#f97316;
  --panel: rgba(2,6,23,0.72);
  --panel2: rgba(2,6,23,0.50);
  --border: rgba(168,85,247,0.35);
  --text: rgba(255,255,255,0.92);
  --muted: rgba(255,255,255,0.70);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text);
  background:
    radial-gradient(900px 450px at 10% 10%, rgba(168,85,247,0.25), transparent 55%),
    radial-gradient(900px 450px at 90% 20%, rgba(34,211,238,0.18), transparent 55%),
    radial-gradient(900px 450px at 70% 90%, rgba(236,72,153,0.16), transparent 55%),
    linear-gradient(180deg, #020617 0%, #020617 55%, #030a1c 100%);
  overflow-x:hidden;
}
a{color:inherit}
.wrap{max-width:1100px;margin:0 auto;padding:24px}
.topbar{
  position:sticky;top:0;z-index:50;
  background: rgba(2,6,23,0.78);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(34,211,238,0.18);
}
.topbar .inner{display:flex;align-items:center;gap:14px;justify-content:space-between;padding:14px 24px;max-width:1100px;margin:0 auto}
.brand{display:flex;align-items:center;gap:12px}
.brand img{width:46px;height:46px;object-fit:contain;filter: drop-shadow(0 0 18px rgba(168,85,247,0.35))}
.brand .t{line-height:1.1}
.brand .t b{display:block;font-size:14px;letter-spacing:0.9px;text-transform:uppercase}
.brand .t span{display:block;font-size:12px;color:var(--muted)}
.badges{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.badge{
  font-size:12px;padding:6px 10px;border-radius:999px;
  background: rgba(2,6,23,0.62);
  border:1px solid rgba(168,85,247,0.28);
  color: rgba(255,255,255,0.86);
}
.hero{
  padding:28px 0 10px 0;
  display:grid;
  grid-template-columns: 1.25fr 0.75fr;
  gap:18px;
  align-items:stretch;
}
.card{
  background: linear-gradient(180deg, var(--panel) 0%, rgba(2,6,23,0.55) 100%);
  border: 1px solid var(--border);
  border-radius: 18px;
  box-shadow: 0 12px 40px rgba(0,0,0,0.35);
}
.card .pad{padding:18px}
.kicker{
  display:inline-flex;gap:8px;align-items:center;
  font-size:12px;color:rgba(255,255,255,0.82);
  border:1px solid rgba(34,211,238,0.28);
  background: rgba(34,211,238,0.08);
  padding:6px 10px;border-radius:999px;
}
h1{margin:10px 0 8px;font-size:34px;letter-spacing:-0.5px}
p{margin:10px 0;color:var(--muted);line-height:1.55}
.grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
@media (max-width: 980px){
  .hero{grid-template-columns:1fr}
  .grid3{grid-template-columns:1fr}
}
.btn{
  cursor:pointer;
  border:1px solid rgba(168,85,247,0.42);
  background: linear-gradient(90deg, rgba(168,85,247,0.28), rgba(34,211,238,0.18));
  color: rgba(255,255,255,0.92);
  padding:10px 12px;border-radius:12px;
  font-weight:700;
  transition: transform .06s ease, filter .12s ease, border-color .12s ease;
}
.btn:hover{transform: translateY(-1px); filter: brightness(1.08); border-color: rgba(34,211,238,0.48)}
.btn:disabled{opacity:0.55;cursor:not-allowed;transform:none}
.btn.ghost{
  background: rgba(2,6,23,0.32);
  border-color: rgba(34,211,238,0.25);
}
.btn.gold{
  border-color: rgba(250,204,21,0.35);
  background: linear-gradient(90deg, rgba(250,204,21,0.18), rgba(243,115,22,0.14));
}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.small{font-size:12px;color:rgba(255,255,255,0.72)}
.hr{height:1px;background: linear-gradient(90deg, rgba(168,85,247,0.0), rgba(168,85,247,0.35), rgba(34,211,238,0.28), rgba(168,85,247,0.0)); margin:14px 0}
input,textarea,select{
  width:100%;
  background: rgba(2,6,23,0.55);
  border:1px solid rgba(168,85,247,0.28);
  color: rgba(255,255,255,0.92);
  padding:10px 12px;border-radius:12px;
  outline:none;
}
textarea{min-height:110px;resize:vertical}
label{display:block;font-size:12px;color:rgba(255,255,255,0.74);margin:10px 0 6px}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
.notice{
  font-size:12px;
  color: rgba(255,255,255,0.78);
  border: 1px solid rgba(34,211,238,0.22);
  background: rgba(34,211,238,0.08);
  padding:10px 12px;border-radius:14px;
}
.notice.warn{
  border-color: rgba(250,204,21,0.22);
  background: rgba(250,204,21,0.08);
}
.table{
  width:100%;
  border-collapse: collapse;
  overflow:hidden;
  border-radius: 14px;
  border:1px solid rgba(168,85,247,0.22);
}
.table th,.table td{
  padding:10px 10px;
  border-bottom:1px solid rgba(168,85,247,0.16);
  font-size:13px;
  vertical-align:top;
}
.table th{color:rgba(255,255,255,0.78);text-align:left;background: rgba(2,6,23,0.45)}
.pill{display:inline-flex;align-items:center;gap:6px;padding:5px 9px;border-radius:999px;border:1px solid rgba(34,211,238,0.24);background: rgba(34,211,238,0.08);font-size:12px}
.pill.gold{border-color: rgba(250,204,21,0.28);background: rgba(250,204,21,0.08)}
.footer{padding:20px 0 36px;color:rgba(255,255,255,0.6);font-size:12px;text-align:center}
</style>
  <script src="/js/tkfm-functions-client.js"></script>
</head>
<body>
  <div class="topbar">
    <div class="inner">
      <div class="brand">
        <img src="/tkfm-radio-logo.png" onerror="this.src='/public/tkfm-radio-logo.png'" alt="TKFM Radio"/>
        <div class="t">
          <b>TKFM Sponsor Read Engine</b>
          <span>Paid Lane ‚Ä¢ On‚Äëair reads + placement workflow</span>
        </div>
      </div>
      <div class="badges">
        <div class="badge">Neon Cyberwave</div>
        <div class="badge">Checkout = lookup_key</div>
        <div class="badge">Credits Wallet</div>
      </div>
    </div>
  </div>

  <div class="wrap">
    <section class="hero">
      <div class="card">
        <div class="pad">
          <div class="kicker">üéôÔ∏è Sponsor Reads ‚Ä¢ Radio Monetization ‚Ä¢ TKFM</div>
          <h1>Buy credits ‚Üí submit your sponsor read ‚Üí get on-air.</h1>
          <p>
            This is a <b>paid lane</b>. Purchase a pack (or monthly), then use credits to submit sponsor read requests.
            TKFM processes requests and schedules reads inside the on‚Äëair rotation.
          </p>
          <div class="row">
            <button class="btn gold" data-buy="sponsor_read_5pack">Buy 5 Reads</button>
            <button class="btn gold" data-buy="sponsor_read_20pack">Buy 20 Reads</button>
            <button class="btn" data-buy="sponsor_read_monthly">Monthly Reads</button>
            <a class="btn ghost" href="/owner-sponsor-ops.html" style="text-decoration:none">Owner Ops</a>
          </div>
          <div class="hr"></div>
          <div id="envNote" class="notice"></div>
        </div>
      </div>

      <div class="card">
        <div class="pad">
          <div class="row" style="justify-content:space-between;align-items:flex-start">
            <div>
              <div class="pill">üí≥ Wallet</div>
              <div class="small">Credits are tied to your Stripe customer id after checkout success.</div>
            </div>
            <div class="pill gold"><span>Customer</span> <span id="custId" class="mono">‚Äî</span></div>
          </div>
          <div class="hr"></div>
          <div class="row" style="justify-content:space-between">
            <div>
              <div class="small">Available Sponsor Read Credits</div>
              <div style="font-size:34px;font-weight:900" id="credits">0</div>
            </div>
            <div class="row">
              <button class="btn ghost" id="refreshBtn">Refresh</button>
              <button class="btn" id="unlockBtn">Use 1 Credit ‚Üí Unlock Form</button>
            </div>
          </div>
          <div class="hr"></div>
          <div class="notice warn">
            If you just purchased, open <span class="mono">/sponsor-success.html</span> from the Stripe return URL
            so the system can capture your customer id and award credits.
          </div>
        </div>
      </div>
    </section>

    <section class="card" id="formCard" style="display:none">
      <div class="pad">
        <div class="row" style="justify-content:space-between;align-items:flex-start">
          <div>
            <div class="pill">üìù Sponsor Read Request</div>
            <p class="small" style="margin:8px 0 0 0">
              Submit your read request. TKFM will review + schedule. You‚Äôll be able to track status on this page.
            </p>
          </div>
          <div class="pill gold">Status: <span id="lastStatus">‚Äî</span></div>
        </div>

        <div class="hr"></div>

        <div class="grid3">
          <div>
            <label>Brand / Business Name</label>
            <input id="brandName" placeholder="Example: Krave Clothing Co."/>
          </div>
          <div>
            <label>Read Length</label>
            <select id="readLength">
              <option value="10s">10 seconds</option>
              <option value="15s">15 seconds</option>
              <option value="30s" selected>30 seconds</option>
              <option value="60s">60 seconds</option>
            </select>
          </div>
          <div>
            <label>Call‚Äëto‚ÄëAction</label>
            <input id="cta" placeholder="Example: Visit kraveclothing.com today"/>
          </div>
        </div>

        <label>Pronunciation / Notes</label>
        <input id="pronounce" placeholder="Example: 'Krave' like 'Crave' (no K sound)"/>

        <label>Script (what you want read on-air)</label>
        <textarea id="script" placeholder="Write the sponsor read script here..."></textarea>

        <label>Optional: Landing link (if you want it shown on TKFM pages)</label>
        <input id="link" placeholder="https://..."/>

        <div class="row" style="margin-top:12px;justify-content:space-between">
          <div class="small">Submitting uses the credit you already spent to unlock this form.</div>
          <div class="row">
            <button class="btn ghost" id="clearBtn">Clear</button>
            <button class="btn gold" id="submitBtn">Submit Request</button>
          </div>
        </div>

        <div class="hr"></div>
        <div id="msg" class="notice" style="display:none"></div>

        <div class="hr"></div>
        <div class="pill">üìå Recent Requests</div>
        <div style="margin-top:10px;overflow:auto">
          <table class="table">
            <thead>
              <tr>
                <th>Date</th>
                <th>Brand</th>
                <th>Length</th>
                <th>Status</th>
                <th>ID</th>
              </tr>
            </thead>
            <tbody id="reqRows"></tbody>
          </table>
        </div>
      </div>
    </section>

    <div class="footer">
      TKFM Radio ‚Ä¢ The Independent Artist Power Station ‚Ä¢ Sponsor Reads are a paid lane.
    </div>
  </div>

  <script src="/js/tkfm-sponsor-read.js"></script>
</body>
</html>
