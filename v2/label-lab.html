<!doctype html>
<html lang="en">
<head>
  <meta name="tkfm-theme" content="label" />
  <link rel="stylesheet" href="/css/tkfm-shell.css" />
  <link rel="stylesheet" href="/css/tkfm-label.css" />
  <script src="/js/tkfm-shell.js" defer></script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TKFM Label Lab · Roster, Packs & AI Slots</title>
  <meta name="description" content="TKFM Label Lab — artist roster hub, AI pack builder, and AI-powered slot suggestions for TKFM Radio." />

  <style>
    body.tkfm-label-lab-root {
      min-height: 100vh;
      margin: 0;
      background: radial-gradient(circle at top left, #020014, #020617 55%, #000000 100%);
      color: #f9fafb;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      overflow-x: hidden;
      position: relative;
    }

    .tkfm-bg-main {
      position: fixed;
      inset: -25%;
      pointer-events: none;
      z-index: -3;
      background:
        radial-gradient(circle at 0 0, rgba(255, 0, 128, 0.42), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(56, 189, 248, 0.4), transparent 60%),
        radial-gradient(circle at 50% 0, rgba(147, 51, 234, 0.32), transparent 60%);
      filter: blur(12px);
      animation: tkfmGlowLabel 30s linear infinite alternate;
      opacity: 0.9;
    }

    .tkfm-bg-orbit {
      position: fixed;
      inset: -38%;
      pointer-events: none;
      z-index: -4;
      background:
        conic-gradient(
          from 210deg,
          rgba(255, 0, 128, 0.3),
          rgba(56, 189, 248, 0.26),
          rgba(250, 204, 21, 0.18),
          rgba(96, 165, 250, 0.22),
          rgba(147, 51, 234, 0.3)
        );
      mix-blend-mode: screen;
      opacity: 0.48;
      filter: blur(42px);
      animation: tkfmOrbitLabel 42s linear infinite;
    }

    @keyframes tkfmGlowLabel {
      0% { transform: translate3d(0, 0, 0) scale(1); }
      50% { transform: translate3d(3%, -4%, 0) scale(1.03); }
      100% { transform: translate3d(-3%, 4%, 0) scale(1.05); }
    }

    @keyframes tkfmOrbitLabel {
      0% { transform: rotate(0deg) scale(1.08); }
      100% { transform: rotate(360deg) scale(1.08); }
    }

    #tkfm-particles {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -2;
    }

    main.tkfm-main {
      max-width: 1180px;
      margin: 0 auto;
      padding: 1.75rem 1.25rem 3.5rem;
      position: relative;
      z-index: 1;
    }

    /* HEADER */
    .tkfm-header {
      margin-bottom: 1.7rem;
    }

    .tkfm-kicker {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: rgba(191, 219, 254, 0.98);
      margin-bottom: 0.35rem;
    }

    .tkfm-title-row {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 0.7rem;
      align-items: flex-start;
    }

    .tkfm-title {
      font-size: 2rem;
      font-weight: 900;
      margin: 0;
      background: linear-gradient(110deg, #ff007f, #f97316, #22c55e, #06b6d4);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow:
        0 0 20px rgba(244, 63, 94, 0.7),
        0 0 34px rgba(34, 211, 238, 0.7);
    }

    .tkfm-sub {
      font-size: 0.9rem;
      color: rgba(226, 232, 240, 0.94);
      max-width: 40rem;
      margin-top: 0.35rem;
    }

    .tkfm-sub span {
      color: #facc15;
    }

    .tkfm-header-actions {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
      align-items: flex-end;
      min-width: 260px;
    }

    .tkfm-pill-owner {
      font-size: 0.78rem;
      border-radius: 999px;
      padding: 0.3rem 0.75rem;
      border: 1px solid rgba(250, 204, 21, 0.95);
      background: rgba(113, 63, 18, 0.9);
      color: #fef3c7;
    }

    .tkfm-pill-owner span {
      font-weight: 700;
      color: #facc15;
    }

    .tkfm-pill-note {
      font-size: 0.72rem;
      color: rgba(148, 163, 184, 0.96);
      text-align: right;
    }

    .tkfm-btn {
      position: relative;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.35rem;
      padding: 0.45rem 1.05rem;
      font-size: 0.8rem;
      border-radius: 999px;
      border: 1px solid rgba(56, 189, 248, 0.75);
      color: #e0f2fe;
      background: radial-gradient(circle at top left, rgba(56,189,248,0.52), rgba(15,23,42,0.98));
      text-decoration: none;
      cursor: pointer;
      overflow: hidden;
      transition:
        transform 0.16s ease-out,
        box-shadow 0.16s ease-out,
        border-color 0.16s ease-out,
        background 0.16s ease-out;
    }

    .tkfm-btn::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 0 0, rgba(255,255,255,0.5), transparent 60%);
      opacity: 0;
      transform: translate3d(-40%, -40%, 0);
      transition:
        opacity 0.18s ease-out,
        transform 0.24s ease-out;
      pointer-events: none;
    }

    .tkfm-btn:hover {
      transform: translateY(-1px) scale(1.02);
      box-shadow:
        0 10px 25px rgba(15, 23, 42, 0.9),
        0 0 20px rgba(56, 189, 248, 0.65);
      border-color: rgba(56, 189, 248, 0.98);
    }

    .tkfm-btn:hover::after {
      opacity: 0.7;
      transform: translate3d(0,0,0);
    }

    .tkfm-btn-ghost {
      background: rgba(15, 23, 42, 0.9);
      border-style: dashed;
    }

    .tkfm-btn-small {
      padding: 0.32rem 0.8rem;
      font-size: 0.76rem;
    }

    @media (max-width: 640px) {
      .tkfm-title-row {
        flex-direction: column;
      }
      .tkfm-header-actions {
        align-items: flex-start;
      }
    }

    /* LAYOUT */
    .tkfm-grid-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.45fr) minmax(0, 1.1fr);
      gap: 1rem;
      align-items: flex-start;
    }

    @media (max-width: 980px) {
      .tkfm-grid-layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .tkfm-section-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: rgba(148, 163, 184, 0.96);
      margin-bottom: 0.45rem;
    }

    /* CARDS */
    .tkfm-card {
      position: relative;
      border-radius: 20px;
      padding: 0.9rem 0.95rem;
      background: radial-gradient(circle at top left, rgba(15,23,42,0.98), rgba(15,23,42,0.96));
      border: 1px solid rgba(148, 163, 184, 0.5);
      box-shadow:
        0 16px 34px rgba(15, 23, 42, 0.95),
        0 0 26px rgba(15, 23, 42, 0.9);
      overflow: hidden;
      transform: translateY(0) translateZ(0);
      transition:
        transform 0.16s ease-out,
        box-shadow 0.16s ease-out,
        border-color 0.16s ease-out,
        background 0.16s ease-out;
    }

    .tkfm-card::before {
      content: "";
      position: absolute;
      inset: -25%;
      background: conic-gradient(
        from 220deg,
        rgba(255, 0, 128, 0.28),
        rgba(56, 189, 248, 0.26),
        rgba(250, 204, 21, 0.18),
        rgba(147, 51, 234, 0.24),
        rgba(255, 0, 128, 0.28)
      );
      opacity: 0.26;
      filter: blur(24px);
      z-index: -1;
    }

    .tkfm-card:hover {
      transform: translateY(-3px) scale(1.01);
      border-color: rgba(56, 189, 248, 0.96);
      box-shadow:
        0 18px 38px rgba(15, 23, 42, 0.98),
        0 0 26px rgba(56, 189, 248, 0.8);
      background: radial-gradient(circle at top left, rgba(30,64,175,0.75), rgba(15,23,42,0.98));
    }

    .tkfm-card-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 0.5rem;
      margin-bottom: 0.4rem;
    }

    .tkfm-card-title {
      font-size: 0.98rem;
      font-weight: 600;
    }

    .tkfm-card-kicker {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: rgba(191, 219, 254, 0.96);
    }

    .tkfm-badge {
      font-size: 0.72rem;
      border-radius: 999px;
      padding: 0.18rem 0.6rem;
      border: 1px solid rgba(56, 189, 248, 0.96);
      color: #e0f2fe;
      background: rgba(8, 47, 73, 0.85);
      white-space: nowrap;
    }

    .tkfm-badge-gold {
      border-color: rgba(250, 204, 21, 0.96);
      background: rgba(113, 63, 18, 0.9);
      color: #fef3c7;
    }

    .tkfm-meta {
      font-size: 0.78rem;
      color: rgba(148, 163, 184, 0.96);
      margin-bottom: 0.45rem;
    }

    .tkfm-meta strong {
      color: rgba(248, 250, 252, 0.98);
    }

    /* ROSTER GRID */
    .tkfm-roster-filter {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.55rem;
      font-size: 0.76rem;
      color: rgba(148, 163, 184, 0.96);
    }

    .tkfm-roster-pills {
      display: flex;
      flex-wrap: wrap;
      gap: 0.35rem;
      align-items: center;
    }

    .tkfm-filter-pill {
      border-radius: 999px;
      padding: 0.2rem 0.65rem;
      border: 1px solid rgba(51, 65, 85, 0.96);
      background: rgba(15, 23, 42, 0.96);
      color: rgba(148, 163, 184, 0.96);
      cursor: pointer;
      user-select: none;
      transition:
        border-color 0.16s ease-out,
        background 0.16s ease-out,
        box-shadow 0.16s ease-out,
        transform 0.12s ease-out;
    }

    .tkfm-filter-pill.active {
      border-color: rgba(56, 189, 248, 0.96);
      box-shadow: 0 0 16px rgba(56, 189, 248, 0.9);
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.3), rgba(15,23,42,0.98));
      color: #e0f2fe;
      transform: translateY(-1px);
    }

    .tkfm-search {
      position: relative;
      max-width: 200px;
      width: 100%;
    }

    .tkfm-search input {
      width: 100%;
      border-radius: 999px;
      border: 1px solid rgba(31, 41, 55, 0.96);
      background: rgba(15, 23, 42, 0.96);
      color: rgba(248, 250, 252, 0.98);
      padding: 0.28rem 0.65rem;
      font-size: 0.76rem;
      outline: none;
    }

    .tkfm-search input::placeholder {
      color: rgba(107, 114, 128, 0.96);
    }

    .tkfm-roster-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 0.55rem;
    }

    @media (max-width: 980px) {
      .tkfm-roster-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    @media (max-width: 640px) {
      .tkfm-roster-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .tkfm-artist-card {
      border-radius: 16px;
      padding: 0.45rem 0.5rem;
      background: rgba(15, 23, 42, 0.98);
      border: 1px solid rgba(31, 41, 55, 0.96);
      font-size: 0.78rem;
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 0.9fr);
      gap: 0.35rem;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transform: translateY(0);
      transition:
        transform 0.14s ease-out,
        box-shadow 0.14s ease-out,
        border-color 0.14s ease-out,
        background 0.14s ease-out;
    }

    .tkfm-artist-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.26), transparent 60%);
      opacity: 0;
      transition: opacity 0.16s ease-out;
      pointer-events: none;
    }

    .tkfm-artist-card:hover {
      transform: translateY(-2px);
      border-color: rgba(56, 189, 248, 0.96);
      box-shadow: 0 10px 24px rgba(15, 23, 42, 0.96);
      background: radial-gradient(circle at top left, rgba(30,64,175,0.65), rgba(15,23,42,0.98));
    }

    .tkfm-artist-card:hover::before {
      opacity: 1;
    }

    .tkfm-artist-main {
      display: flex;
      flex-direction: column;
      gap: 0.08rem;
    }

    .tkfm-artist-name {
      font-size: 0.84rem;
      color: rgba(248, 250, 252, 0.98);
    }

    .tkfm-artist-tagline {
      font-size: 0.74rem;
      color: rgba(148, 163, 184, 0.96);
    }

    .tkfm-artist-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.22rem;
      margin-top: 0.1rem;
    }

    .tkfm-pill-mini {
      border-radius: 999px;
      padding: 0.1rem 0.4rem;
      border: 1px solid rgba(51, 65, 85, 0.96);
      font-size: 0.7rem;
      color: rgba(148, 163, 184, 0.96);
    }

    .tkfm-pill-mini.prio {
      border-color: rgba(250, 204, 21, 0.96);
      color: #fef3c7;
      background: rgba(113, 63, 18, 0.9);
    }

    .tkfm-pill-mini.label {
      border-color: rgba(56, 189, 248, 0.96);
      color: #e0f2fe;
      background: rgba(8, 47, 73, 0.85);
    }

    .tkfm-artist-metrics {
      display: grid;
      gap: 0.16rem;
      align-content: center;
      justify-items: flex-end;
      text-align: right;
      font-variant-numeric: tabular-nums;
    }

    .tkfm-artist-metric-label {
      font-size: 0.7rem;
      color: rgba(148, 163, 184, 0.96);
    }

    .tkfm-artist-metric-value {
      font-size: 0.8rem;
      color: rgba(226, 232, 240, 0.98);
    }

    /* RIGHT COLUMN: AI pack + slot suggestions */
    .tkfm-right-grid {
      display: grid;
      grid-template-rows: auto auto;
      gap: 0.75rem;
    }

    .tkfm-pack-shell {
      border-radius: 16px;
      padding: 0.55rem 0.6rem 0.65rem;
      background: rgba(15, 23, 42, 0.98);
      border: 1px solid rgba(31, 41, 55, 0.96);
      font-size: 0.78rem;
    }

    .tkfm-mini-title {
      font-size: 0.8rem;
      color: rgba(248, 250, 252, 0.98);
      margin-bottom: 0.25rem;
    }

    .tkfm-mini-note {
      font-size: 0.74rem;
      color: rgba(148, 163, 184, 0.96);
      margin-bottom: 0.35rem;
    }

    .tkfm-pack-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.35fr) minmax(0, 1.1fr);
      gap: 0.55rem;
    }

    @media (max-width: 720px) {
      .tkfm-pack-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .tkfm-pack-form {
      display: grid;
      gap: 0.3rem;
    }

    .tkfm-pack-field {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1fr);
      gap: 0.35rem;
      align-items: center;
    }

    @media (max-width: 640px) {
      .tkfm-pack-field {
        grid-template-columns: minmax(0, 1fr);
        align-items: flex-start;
      }
    }

    .tkfm-pack-label {
      font-size: 0.76rem;
      color: rgba(148, 163, 184, 0.96);
    }

    .tkfm-pack-control {
      display: flex;
      gap: 0.35rem;
      align-items: center;
      flex-wrap: wrap;
    }

    .tkfm-checkbox {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.75rem;
      color: rgba(226, 232, 240, 0.96);
      cursor: pointer;
    }

    .tkfm-checkbox input {
      margin: 0;
    }

    .tkfm-pack-select, .tkfm-pack-input {
      border-radius: 999px;
      border: 1px solid rgba(31, 41, 55, 0.96);
      background: rgba(15, 23, 42, 0.96);
      color: rgba(248, 250, 252, 0.98);
      padding: 0.24rem 0.6rem;
      font-size: 0.76rem;
      outline: none;
      min-width: 0;
    }

    .tkfm-pack-input::placeholder {
      color: rgba(107, 114, 128, 0.96);
    }

    .tkfm-pack-output {
      border-radius: 12px;
      padding: 0.45rem 0.5rem;
      background: radial-gradient(circle at top left, rgba(30,64,175,0.7), rgba(15,23,42,0.98));
      border: 1px solid rgba(56, 189, 248, 0.96);
      font-size: 0.78rem;
      box-shadow:
        0 0 18px rgba(56, 189, 248, 0.8),
        0 12px 26px rgba(15, 23, 42, 0.96);
    }

    .tkfm-pack-output-main {
      display: flex;
      justify-content: space-between;
      gap: 0.4rem;
      flex-wrap: wrap;
      align-items: center;
      margin-bottom: 0.3rem;
    }

    .tkfm-pack-name {
      font-size: 0.84rem;
      color: rgba(248, 250, 252, 0.98);
    }

    .tkfm-pack-price {
      font-size: 0.94rem;
      font-variant-numeric: tabular-nums;
      color: #facc15;
    }

    .tkfm-pack-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      font-size: 0.7rem;
      color: rgba(226, 232, 240, 0.96);
    }

    .tkfm-pack-desc {
      font-size: 0.76rem;
      color: rgba(226, 232, 240, 0.96);
    }

    .tkfm-pack-desc strong {
      color: #facc15;
    }

    /* Slot suggestions */
    .tkfm-slot-shell {
      border-radius: 16px;
      padding: 0.55rem 0.6rem 0.65rem;
      background: rgba(15, 23, 42, 0.98);
      border: 1px solid rgba(31, 41, 55, 0.96);
      font-size: 0.78rem;
      display: grid;
      grid-template-rows: auto auto;
      gap: 0.45rem;
    }

    .tkfm-slot-header-row {
      display: flex;
      justify-content: space-between;
      gap: 0.5rem;
      flex-wrap: wrap;
      align-items: center;
    }

    .tkfm-slot-pill {
      border-radius: 999px;
      padding: 0.16rem 0.55rem;
      font-size: 0.72rem;
      border: 1px solid rgba(250, 204, 21, 0.96);
      color: #fef3c7;
      background: rgba(113, 63, 18, 0.9);
    }

    .tkfm-slot-list {
      display: grid;
      gap: 0.4rem;
    }

    .tkfm-slot-item {
      border-radius: 12px;
      padding: 0.35rem 0.5rem;
      background: rgba(15, 23, 42, 0.98);
      border: 1px solid rgba(31, 41, 55, 0.96);
      position: relative;
      overflow: hidden;
      cursor: pointer;
      transition:
        border-color 0.16s ease-out,
        box-shadow 0.16s ease-out,
        transform 0.12s ease-out;
    }

    .tkfm-slot-item::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 0 0, rgba(56,189,248,0.26), transparent 70%);
      opacity: 0;
      transition: opacity 0.16s ease-out;
      pointer-events: none;
    }

    .tkfm-slot-item:hover {
      border-color: rgba(56, 189, 248, 0.96);
      box-shadow: 0 0 16px rgba(56, 189, 248, 0.8);
      transform: translateY(-1px);
    }

    .tkfm-slot-item:hover::before {
      opacity: 1;
    }

    .tkfm-slot-main {
      display: flex;
      justify-content: space-between;
      gap: 0.45rem;
      flex-wrap: wrap;
      align-items: baseline;
    }

    .tkfm-slot-title {
      font-size: 0.8rem;
      color: rgba(248, 250, 252, 0.98);
    }

    .tkfm-slot-meta {
      font-size: 0.74rem;
      color: rgba(148, 163, 184, 0.96);
    }

    .tkfm-slot-tagline {
      font-size: 0.74rem;
      color: rgba(148, 163, 184, 0.96);
      margin-top: 0.25rem;
    }

    .tkfm-slot-meta span {
      color: rgba(226, 232, 240, 0.96);
    }

    /* BOTTOM STRIP */
    .tkfm-bottom {
      margin-top: 1.4rem;
      font-size: 0.76rem;
      color: rgba(148, 163, 184, 0.96);
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      align-items: center;
      justify-content: space-between;
    }

    .tkfm-bottom strong {
      color: rgba(248, 250, 252, 0.98);
    }

    @media (max-width: 640px) {
      .tkfm-bottom {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    /* Fade-in */
    .tkfm-fade-in {
      opacity: 0;
      transform: translateY(16px);
      transition:
        opacity 0.3s ease-out,
        transform 0.3s ease-out;
    }

    .tkfm-fade-in.tkfm-visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
<script src="/js/tkfm-fx.js"></script>
</head>
<body class="tkfm-label-lab-root" data-tkfm-theme="label">
<script>window.TKFM_FX&&TKFM_FX.mount({ theme: 'label' });</script>
  <div class="tkfm-bg-main"></div>
  <div class="tkfm-bg-orbit"></div>
  <canvas id="tkfm-particles"></canvas>

  <div id="tkfm-header"></div>

  <main class="tkfm-main">
    <!-- HEADER -->
    <header class="tkfm-header tkfm-fade-in">
      <div class="tkfm-kicker">Label Lab · Roster · Packs · AI Slots</div>
      <div class="tkfm-title-row">
        <div>
          <h1 class="tkfm-title">Your label brain — roster on the left, money packs and AI slot ideas on the right.</h1>
          <p class="tkfm-sub">
            <span>Owner only.</span>
            This room is where you look at who’s really moving, bundle them into feature packs,
            and let AI suggest the best hours to place them on TKFM.
          </p>
        </div>
        <div class="tkfm-header-actions">
          <div class="tkfm-pill-owner">
            Access: <span>Label / Owner</span><br/>
            Artists & DJs never see these label-level views or AI pack pricing.
          </div>
          <div class="tkfm-pill-note">
            Later this can sync with <code>artists</code>, <code>label_accounts</code>,
            <code>feature_orders</code> and your schedule tables in Supabase.
          </div>
          <div style="display:flex; gap:0.35rem;">
            <a href="/feature-engine.html" class="tkfm-btn-ghost tkfm-btn tkfm-btn-small">Feature Engine</a>
            <a href="/dj-schedule.html" class="tkfm-btn tkfm-btn-small">DJ Schedule</a>
          </div>
        </div>
      </div>
    </header>

    <section class="tkfm-grid-layout">
      <!-- LEFT: ROSTER HUB -->
      <div class="tkfm-fade-in">
        <div class="tkfm-section-label">Artist roster hub · sample data</div>

        <article class="tkfm-card">
          <div class="tkfm-card-header">
            <div>
              <div class="tkfm-card-kicker">Roster</div>
              <h2 class="tkfm-card-title">Every artist, their energy, and how label they really are with TKFM.</h2>
            </div>
            <div class="tkfm-badge tkfm-badge-gold">Label accounts</div>
          </div>

          <p class="tkfm-meta">
            These are <strong>sample artists</strong> with stats like feature spend and spin momentum.
            Later, this grid can show real label accounts tied to your Stripe + Supabase data.
          </p>

          <div class="tkfm-roster-filter">
            <div class="tkfm-roster-pills" id="roster-filters">
              <span>View:</span>
              <button type="button" class="tkfm-filter-pill active" data-filter="all">All</button>
              <button type="button" class="tkfm-filter-pill" data-filter="priority">Label priority</button>
              <button type="button" class="tkfm-filter-pill" data-filter="heavy">Heavy spenders</button>
              <button type="button" class="tkfm-filter-pill" data-filter="testing">Testing / warming up</button>
            </div>
            <div class="tkfm-search">
              <input id="roster-search" type="text" placeholder="Search artist or label..." />
            </div>
          </div>

          <div class="tkfm-roster-grid" id="roster-grid">
            <!-- artist cards injected -->
          </div>
        </article>
      </div>

      <!-- RIGHT: AI PACK BUILDER + SLOT SUGGESTIONS -->
      <div class="tkfm-fade-in">
        <div class="tkfm-section-label">AI pack builder · slot suggestions</div>

        <article class="tkfm-pack-shell">
          <div class="tkfm-mini-title">AI Pack Builder · sample logic</div>
          <div class="tkfm-mini-note">
            You pick the vibe and pieces, and the system suggests a pack name, starting price, and how to pitch it.
            Later, this can be AI-powered and tied straight into Stripe products.
          </div>

          <div class="tkfm-pack-grid">
            <div class="tkfm-pack-form">
              <div class="tkfm-pack-field">
                <div class="tkfm-pack-label">Target client</div>
                <div class="tkfm-pack-control">
                  <select id="pack-client" class="tkfm-pack-select">
                    <option value="solo">Solo independent artist</option>
                    <option value="crew">Crew / collective</option>
                    <option value="label">Indie label account</option>
                  </select>
                </div>
              </div>

              <div class="tkfm-pack-field">
                <div class="tkfm-pack-label">What’s inside</div>
                <div class="tkfm-pack-control">
                  <label class="tkfm-checkbox">
                    <input type="checkbox" id="pack-homepage" checked />
                    Homepage feature
                  </label>
                  <label class="tkfm-checkbox">
                    <input type="checkbox" id="pack-rotation" checked />
                    Radio rotation
                  </label>
                  <label class="tkfm-checkbox">
                    <input type="checkbox" id="pack-interview" />
                    Interview slot
                  </label>
                  <label class="tkfm-checkbox">
                    <input type="checkbox" id="pack-social" />
                    Social push
                  </label>
                </div>
              </div>

              <div class="tkfm-pack-field">
                <div class="tkfm-pack-label">Pack intensity</div>
                <div class="tkfm-pack-control">
                  <select id="pack-level" class="tkfm-pack-select">
                    <option value="starter">Starter · getting noticed</option>
                    <option value="push" selected>Heavy push · serious motion</option>
                    <option value="takeover">Takeover · label level</option>
                  </select>
                </div>
              </div>

              <div class="tkfm-pack-field">
                <div class="tkfm-pack-label">Base floor (optional)</div>
                <div class="tkfm-pack-control">
                  <input id="pack-floor" class="tkfm-pack-input" type="number" min="0" step="50" placeholder="Your minimum (e.g. 500)" />
                </div>
              </div>
            </div>

            <div class="tkfm-pack-output" id="pack-output">
              <div class="tkfm-pack-output-main">
                <div class="tkfm-pack-name" id="pack-name">Sample: Neon Push Pack</div>
                <div class="tkfm-pack-price" id="pack-price">$0</div>
              </div>
              <div class="tkfm-pack-tags" id="pack-tags">
                <!-- tags injected -->
              </div>
              <div class="tkfm-pack-desc" id="pack-desc">
                This description will adapt to what you choose on the left — showing
                artists exactly why this pack costs what it costs.
              </div>
            </div>
          </div>
        </article>

        <article class="tkfm-slot-shell">
          <div class="tkfm-slot-header-row">
            <div>
              <div class="tkfm-mini-title">AI slot suggestions · sample engine</div>
              <div class="tkfm-mini-note">
                Based on pack intensity and how “label” your roster is, these are sample time slots
                that make sense for the current pack.
              </div>
            </div>
            <div class="tkfm-slot-pill" id="slot-pill">
              AI DJ Engine reserved · only owner
            </div>
          </div>

          <div class="tkfm-slot-list" id="slot-list">
            <!-- suggestions injected -->
          </div>
        </article>
      </div>
    </section>

    <section class="tkfm-bottom tkfm-fade-in">
      <span>
        <strong>Owner rule:</strong> every serious artist becomes a label account,
        every label account gets a pack, every pack gets a premium slot.
      </span>
      <span>
        Later, Label Lab can send these packs straight into Stripe,
        lock in AI slots in your DJ schedule, and push offers into artist dashboards.
      </span>
    </section>
  </main>

  <div id="tkfm-footer"></div>

  <script type="module">
    import { mountShell } from "/src/_page.js";

    mountShell("label-lab");

    // ---------- Sample roster data ----------
    const roster = [
      {
        name: "Lil Nova",
        tagline: "Melodic trap · hooks for days",
        tags: ["priority", "mixtape-ready"],
        labelMode: "priority",
        spendTier: "heavy",
        spins: 1420,
        features: 5,
        lastPack: "Homepage + Heavy Rotation",
      },
      {
        name: "Kraze Cartel",
        tagline: "Street tapes · high replay",
        tags: ["priority", "label-minded"],
        labelMode: "priority",
        spendTier: "heavy",
        spins: 980,
        features: 4,
        lastPack: "Mixtape Premiere + Spotlight",
      },
      {
        name: "Unsigned R&B Collective",
        tagline: "Nightwave R&B · crew sounds",
        tags: ["crew", "testing"],
        labelMode: "crew",
        spendTier: "mid",
        spins: 730,
        features: 3,
        lastPack: "3-Single R&B Pack",
      },
      {
        name: "Monroe Wave",
        tagline: "Alt R&B · vibey late night",
        tags: ["testing", "single-heavy"],
        labelMode: "solo",
        spendTier: "light",
        spins: 420,
        features: 2,
        lastPack: "Single Boost + Overnight",
      },
      {
        name: "BlockBaby Cartel",
        tagline: "Trap anthems · high-energy",
        tags: ["priority", "radio-ready"],
        labelMode: "crew",
        spendTier: "heavy",
        spins: 1280,
        features: 4,
        lastPack: "Drive Time Feature Pack",
      },
      {
        name: "Studio North Label",
        tagline: "Indie label · multiple acts",
        tags: ["label", "multi-artist"],
        labelMode: "label",
        spendTier: "heavy",
        spins: 1640,
        features: 6,
        lastPack: "Label Spotlight Night",
      },
    ];

    const rosterGridEl = document.getElementById("roster-grid");
    const rosterFiltersEl = document.getElementById("roster-filters");
    const rosterSearchEl = document.getElementById("roster-search");

    let rosterFilter = "all";
    let rosterSearch = "";

    function matchesFilter(artist) {
      if (rosterFilter === "priority") {
        return artist.labelMode === "priority" || artist.tags.includes("priority");
      }
      if (rosterFilter === "heavy") {
        return artist.spendTier === "heavy";
      }
      if (rosterFilter === "testing") {
        return artist.tags.includes("testing") || artist.spendTier === "light";
      }
      return true;
    }

    function matchesSearch(artist) {
      if (!rosterSearch) return true;
      const q = rosterSearch.toLowerCase();
      return (
        artist.name.toLowerCase().includes(q) ||
        artist.tagline.toLowerCase().includes(q)
      );
    }

    function renderRoster() {
      if (!rosterGridEl) return;
      rosterGridEl.innerHTML = "";

      const filtered = roster.filter((a) => matchesFilter(a) && matchesSearch(a));

      filtered.forEach((artist) => {
        const card = document.createElement("div");
        card.className = "tkfm-artist-card";

        const main = document.createElement("div");
        main.className = "tkfm-artist-main";

        const name = document.createElement("div");
        name.className = "tkfm-artist-name";
        name.textContent = artist.name;

        const tagline = document.createElement("div");
        tagline.className = "tkfm-artist-tagline";
        tagline.textContent = artist.tagline;

        const tagsRow = document.createElement("div");
        tagsRow.className = "tkfm-artist-tags";

        const modePill = document.createElement("div");
        modePill.className = "tkfm-pill-mini label";
        modePill.textContent =
          artist.labelMode === "label"
            ? "Label account"
            : artist.labelMode === "crew"
            ? "Crew / collective"
            : "Solo artist";
        tagsRow.appendChild(modePill);

        artist.tags.forEach((tag) => {
          const pill = document.createElement("div");
          pill.className = "tkfm-pill-mini" + (tag === "priority" ? " prio" : "");
          pill.textContent = tag === "mixtape-ready" ? "Mixtape-ready" : tag;
          tagsRow.appendChild(pill);
        });

        main.appendChild(name);
        main.appendChild(tagline);
        main.appendChild(tagsRow);

        const metrics = document.createElement("div");
        metrics.className = "tkfm-artist-metrics";

        const spinsLabel = document.createElement("div");
        spinsLabel.className = "tkfm-artist-metric-label";
        spinsLabel.textContent = "Recent spins";
        const spinsVal = document.createElement("div");
        spinsVal.className = "tkfm-artist-metric-value";
        spinsVal.textContent = artist.spins.toLocaleString();

        const featLabel = document.createElement("div");
        featLabel.className = "tkfm-artist-metric-label";
        featLabel.textContent = "Feature packs";
        const featVal = document.createElement("div");
        featVal.className = "tkfm-artist-metric-value";
        featVal.textContent = artist.features.toString();

        const packLabel = document.createElement("div");
        packLabel.className = "tkfm-artist-metric-label";
        packLabel.textContent = "Last pack";
        const packVal = document.createElement("div");
        packVal.className = "tkfm-artist-metric-value";
        packVal.textContent = artist.lastPack;

        metrics.appendChild(spinsLabel);
        metrics.appendChild(spinsVal);
        metrics.appendChild(featLabel);
        metrics.appendChild(featVal);
        metrics.appendChild(packLabel);
        metrics.appendChild(packVal);

        card.appendChild(main);
        card.appendChild(metrics);

        // When you click an artist, push them into AI pack builder as "target"
        card.addEventListener("click", () => {
          setPackClientFromArtist(artist);
        });

        rosterGridEl.appendChild(card);
      });
    }

    if (rosterFiltersEl) {
      rosterFiltersEl.addEventListener("click", (e) => {
        const btn = e.target.closest(".tkfm-filter-pill");
        if (!btn) return;
        rosterFilter = btn.dataset.filter || "all";
        rosterFiltersEl
          .querySelectorAll(".tkfm-filter-pill")
          .forEach((el) => el.classList.toggle("active", el === btn));
        renderRoster();
      });
    }

    if (rosterSearchEl) {
      rosterSearchEl.addEventListener("input", (e) => {
        rosterSearch = e.target.value || "";
        renderRoster();
      });
    }

    // ---------- AI Pack Builder ----------
    const packClientEl = document.getElementById("pack-client");
    const packLevelEl = document.getElementById("pack-level");
    const packFloorEl = document.getElementById("pack-floor");

    const packHomepageEl = document.getElementById("pack-homepage");
    const packRotationEl = document.getElementById("pack-rotation");
    const packInterviewEl = document.getElementById("pack-interview");
    const packSocialEl = document.getElementById("pack-social");

    const packNameEl = document.getElementById("pack-name");
    const packPriceEl = document.getElementById("pack-price");
    const packTagsEl = document.getElementById("pack-tags");
    const packDescEl = document.getElementById("pack-desc");

    const slotListEl = document.getElementById("slot-list");
    const slotPillEl = document.getElementById("slot-pill");

    function calcBasePrice() {
      let base = 0;

      if (packHomepageEl && packHomepageEl.checked) base += 300;
      if (packRotationEl && packRotationEl.checked) base += 250;
      if (packInterviewEl && packInterviewEl.checked) base += 180;
      if (packSocialEl && packSocialEl.checked) base += 120;

      let multiplier = 1;
      if (packLevelEl) {
        if (packLevelEl.value === "push") multiplier = 1.35;
        if (packLevelEl.value === "takeover") multiplier = 1.75;
      }

      base = base * multiplier;

      if (packClientEl) {
        if (packClientEl.value === "crew") base *= 1.2;
        if (packClientEl.value === "label") base *= 1.4;
      }

      let floor = 0;
      if (packFloorEl && packFloorEl.value) {
        const parsed = parseFloat(packFloorEl.value);
        if (!Number.isNaN(parsed)) floor = parsed;
      }

      if (base < floor) base = floor;
      if (base < 300) base = 300; // never undercut yourself

      return Math.round(base / 10) * 10; // round to nearest 10
    }

    function pickPackName() {
      const client = packClientEl ? packClientEl.value : "solo";
      const level = packLevelEl ? packLevelEl.value : "push";
      const homepage = packHomepageEl && packHomepageEl.checked;
      const rotation = packRotationEl && packRotationEl.checked;
      const interview = packInterviewEl && packInterviewEl.checked;
      const social = packSocialEl && packSocialEl.checked;

      if (client === "label" && level === "takeover") {
        return "Label Takeover Neon Suite";
      }
      if (client === "crew" && level === "push") {
        return "Crew Momentum Pack";
      }
      if (client === "solo" && level === "starter" && rotation) {
        return "Solo Starter Spin Pack";
      }
      if (homepage && rotation && !interview && !social) {
        return "Neon Push Pack";
      }
      if (homepage && rotation && interview) {
        return "Full Motion Feature Pack";
      }
      if (rotation && social && !homepage) {
        return "Airwave Buzz Pack";
      }
      return "Custom TKFM Feature Pack";
    }

    function packTags() {
      const tags = [];
      if (packClientEl) {
        if (packClientEl.value === "solo") tags.push("Best for solo artists");
        if (packClientEl.value === "crew") tags.push("Best for crews / collectives");
        if (packClientEl.value === "label") tags.push("Built for indie labels");
      }
      if (packLevelEl) {
        if (packLevelEl.value === "starter") tags.push("Entry level visibility");
        if (packLevelEl.value === "push") tags.push("Serious motion");
        if (packLevelEl.value === "takeover") tags.push("Takeover energy");
      }
      if (packHomepageEl && packHomepageEl.checked) tags.push("Homepage presence");
      if (packRotationEl && packRotationEl.checked) tags.push("Guaranteed spins");
      if (packInterviewEl && packInterviewEl.checked) tags.push("Storytelling slot");
      if (packSocialEl && packSocialEl.checked) tags.push("Social amplification");
      return tags;
    }

    function packDescription(price) {
      const level = packLevelEl ? packLevelEl.value : "push";
      const homepage = packHomepageEl && packHomepageEl.checked;
      const rotation = packRotationEl && packRotationEl.checked;
      const interview = packInterviewEl && packInterviewEl.checked;
      const social = packSocialEl && packSocialEl.checked;

      const parts = [];

      if (homepage && rotation) {
        parts.push("Homepage presence plus real radio rotation");
      } else if (rotation) {
        parts.push("Radio rotation as the core of the pack");
      } else if (homepage) {
        parts.push("Homepage visibility leading the way");
      }

      if (interview) {
        parts.push("a dedicated interview slot to build the story");
      }

      if (social) {
        parts.push("social pushes to echo everything off the station");
      }

      let core = parts.join(", ");
      if (!core) {
        core = "a custom blend of TKFM energy tailored to this artist or label";
      }

      let tone = "";
      if (level === "starter") {
        tone =
          "Perfect for artists who are stepping into TKFM for the first real push — not just a random spin, but a real introduction.";
      } else if (level === "push") {
        tone =
          "Built for artists and crews who are already moving and need heavier exposure, more consistency and a focused rollout.";
      } else {
        tone =
          "This is a label-level move, meant for big tapes, multi-artist plays and campaign-style rollouts across the station.";
      }

      return (
        "This pack combines <strong>" +
        core +
        "</strong> at a label-respectful floor of <strong>$" +
        price.toLocaleString() +
        "</strong>. " +
        tone
      );
    }

    function updatePackBuilder() {
      const price = calcBasePrice();
      const name = pickPackName();
      const tags = packTags();

      if (packPriceEl) {
        packPriceEl.textContent = "$" + price.toLocaleString();
      }
      if (packNameEl) {
        packNameEl.textContent = "Sample: " + name;
      }

      if (packTagsEl) {
        packTagsEl.innerHTML = "";
        tags.forEach((t) => {
          const span = document.createElement("span");
          span.textContent = t;
          span.className = "tkfm-pill-mini";
          packTagsEl.appendChild(span);
        });
      }

      if (packDescEl) {
        packDescEl.innerHTML = packDescription(price);
      }

      updateSlotSuggestions(price);
    }

    function setPackClientFromArtist(artist) {
      if (!packClientEl) return;

      if (artist.labelMode === "label") {
        packClientEl.value = "label";
      } else if (artist.labelMode === "crew") {
        packClientEl.value = "crew";
      } else {
        packClientEl.value = "solo";
      }

      if (packLevelEl) {
        packLevelEl.value =
          artist.spendTier === "heavy"
            ? "takeover"
            : artist.spendTier === "mid"
            ? "push"
            : "starter";
      }

      updatePackBuilder();
    }

    const packInputs = [
      packClientEl,
      packLevelEl,
      packFloorEl,
      packHomepageEl,
      packRotationEl,
      packInterviewEl,
      packSocialEl,
    ].filter(Boolean);

    packInputs.forEach((el) => {
      const evt = el.tagName === "SELECT" || el.type === "number" ? "change" : "input";
      el.addEventListener(evt, updatePackBuilder);
    });

    // ---------- AI Slot Suggestions (mock logic) ----------
    function updateSlotSuggestions(price) {
      if (!slotListEl) return;

      const level = packLevelEl ? packLevelEl.value : "push";
      const client = packClientEl ? packClientEl.value : "solo";

      const suggestions = [];

      if (level === "starter") {
        suggestions.push({
          title: "Overnight Discovery Block",
          meta: `Sample: 1x 60 min block · 1 night · ~$${Math.round(price * 1.0)}`,
          detail:
            "Great for new artists who are just stepping into TKFM. Enough to get motion without giving away prime time slots too early.",
        });
        suggestions.push({
          title: "Off-Peak Warm-Up",
          meta: `Sample: 1x 30–45 min block · early evening · ~$${Math.round(price * 1.1)}`,
          detail:
            "Use this as a “tester” slot before you ever move them into drive time or full-blown label takeovers.",
        });
      } else if (level === "push") {
        suggestions.push({
          title: "Drive Time Push Block",
          meta: `Sample: 2x 30–45 min blocks · 2 days · ~$${Math.round(price * 1.3)}`,
          detail:
            "Perfect for artists with real movement. Put them where ears already are — commute time, pre-club, and weekend slots.",
        });
        suggestions.push({
          title: "Mixtape Feature Window",
          meta: `Sample: 1x 60–90 min mixtape zone · weekend · ~$${Math.round(price * 1.4)}`,
          detail:
            "Bundle singles into a full tape moment and schedule around other high-energy shows so they feel like part of the station core.",
        });
      } else {
        suggestions.push({
          title: "Label Spotlight Night",
          meta: `Sample: 2–3 hour block · prime weekend · ~$${Math.round(price * 1.8)}`,
          detail:
            "For label clients and crews ready to own a night. Multiple acts, interviews, and heavy feature integration all in one window.",
        });
        suggestions.push({
          title: "Multi-Slot Takeover Route",
          meta: `Sample: 3–4 high visibility slots over a week · ~$${Math.round(price * 2.0)}`,
          detail:
            "Spread their presence across the week so the station feels like it’s in full partnership mode, not a one-off play.",
        });
      }

      if (client === "label") {
        suggestions.push({
          title: "Label + AI DJ Blend",
          meta: `Sample: AI DJ support around human shows · ~$${Math.round(price * 1.5)}`,
          detail:
            "Reserve AI DJ Engine to keep label music present before and after their manual shows — but control it from your owner account only.",
        });
      }

      slotListEl.innerHTML = "";
      suggestions.forEach((s) => {
        const item = document.createElement("div");
        item.className = "tkfm-slot-item";

        const main = document.createElement("div");
        main.className = "tkfm-slot-main";

        const title = document.createElement("div");
        title.className = "tkfm-slot-title";
        title.textContent = s.title;

        const meta = document.createElement("div");
        meta.className = "tkfm-slot-meta";
        meta.innerHTML = `<span>${s.meta}</span> · sample suggestion`;

        main.appendChild(title);
        main.appendChild(meta);

        const tagline = document.createElement("div");
        tagline.className = "tkfm-slot-tagline";
        tagline.textContent = s.detail;

        item.appendChild(main);
        item.appendChild(tagline);

        slotListEl.appendChild(item);
      });

      if (slotPillEl) {
        slotPillEl.textContent = "AI DJ Engine slot planner · owner-only control";
      }
    }

    // ---------- GraphFX particles ----------
    const canvas = document.getElementById("tkfm-particles");
    if (canvas) {
      const ctx = canvas.getContext("2d");
      let width = (canvas.width = window.innerWidth);
      let height = (canvas.height = window.innerHeight);
      const particles = [];

      function spawnParticle(x, y) {
        particles.push({
          x,
          y,
          vx: (Math.random() - 0.5) * 0.9,
          vy: (Math.random() - 0.5) * 0.9 - 0.2,
          life: 1,
        });
      }

      window.addEventListener("resize", () => {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
      });

      window.addEventListener("mousemove", (e) => {
        const amount = 3;
        for (let i = 0; i < amount; i++) {
          spawnParticle(e.clientX, e.clientY);
        }
      });

      function renderParticles() {
        ctx.clearRect(0, 0, width, height);

        for (let i = particles.length - 1; i >= 0; i--) {
          const p = particles[i];
          p.x += p.vx;
          p.y += p.vy;
          p.vy += 0.01;
          p.life -= 0.02;

          if (p.life <= 0) {
            particles.splice(i, 1);
            continue;
          }

          const alpha = p.life;
          const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 14);
          grad.addColorStop(0, `rgba(255, 0, 128, ${alpha})`);
          grad.addColorStop(0.5, `rgba(56, 189, 248, ${alpha * 0.8})`);
          grad.addColorStop(1, `rgba(0, 0, 0, 0)`);

          ctx.fillStyle = grad;
          ctx.beginPath();
          ctx.arc(p.x, p.y, 14, 0, Math.PI * 2);
          ctx.fill();
        }

        requestAnimationFrame(renderParticles);
      }
      requestAnimationFrame(renderParticles);
    }

    // ---------- Fade-in on scroll ----------
    const fadeEls = document.querySelectorAll(".tkfm-fade-in");
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("tkfm-visible");
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.15 }
    );
    fadeEls.forEach((el) => observer.observe(el));

    // Initial renders
    renderRoster();
    updatePackBuilder();
  </script>
  <script type="module" src="/js/tkfm-logo-resolver.js"></script>
<script src="/js/tkfm-checkout.js"></script>
</body>
</html>
